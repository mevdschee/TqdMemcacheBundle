{% extends 'WebProfilerBundle:Profiler:layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        <img width="20" height="28" alt="Memcache" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AscFBMhgSYydAAAA4VJREFUWMPtVk1IY1cYPfe+F5Mm1sUwCwkEp9AqlC66GsuAXVSmxZZsNAgK0kQCNkV4qEPIKIxENOmiaoWABMdB0qlgcKG8jAZEtG7KDCgpiB0XoQMGBDFDa/SJz7x7u3oSNJifgdk0Z3nO+e733e/+AhVU8L+HpmloaWnJq21vb9/g+vv783p9Pl95BdhsNgDA1NRUdTwe/0KW5Yezs7P3dH1gYOBGDOcci4uLdbFY7OHS0tKDpqYmk67Nzc2VlJ/oAy4vLztVVQ0DqBIE4ZUgCM88Hs/zw8PDMwCYnp6Gx+MBAMzPz1vNZvOMqqrfAjg3GAy/pdPpp263+yUAdHZ2IhKJQBTF4gqQZdlACAkoivIoR7sURXHj4OAgIEnS77lB8Xj889PT0xeMMavOUUrfGAyGeb/fH9zZ2TkttgMUAEwmEwgh7JpmyGazX1utVnlhYeEXAFW6oKoqB6Dlmhlj9y4uLnyDg4N/jI+Pf6Xz6+vrhQu4DZzzDwkhkizLyWAw+GVOnJBvPMbYZzabbT0ajc7Y7XZLc3PzlRgKhfIvwdramkFV1dGzszNvwZZR+gyAzDmf4ZzfLeB9m8lkfgDwwuVyKWV14DoYY92MsSgASxHeOxaLJVpbW/trJBJ5oPNDQ0PlF6DvD875B8WaM5lMq9lsXlxZWfmpvb39ztjYGFwuV3lL8I5ggiC8TqVSXZIk7bxLB8oF1TTt07q6OkknxPdcAKeUpnZ3d0ffewGU0rdGo/G53W5/BOCyt7cXoVCovAIIIf8CMHLOTcX4RVGUT05OJhwOxyYAhMNh9PT0lHcKLBZLuKqqagBAwevWaDS+MRqN3YlE4nun07kJAH19fVfJS1qC6urqv46Pj39MJBIvGxsbPyaEqJzz22b9s6IoUx0dHSmd29/fR0NDQ8kXUZYxNrq3t3e/pqZmMxAInBNC6PW3ICfxbjqdbtzY2PDpyf1+PwDcSH7VAU3TkGc2qiAIfyaTyV6v1/sq9zOSb+aU0mMAT1tbW58AuMzVhoeHb3+MJEnKapr2NyHkhBByLoriHiHkSVtb2309+dbWFiYmJgAAiqL8Qyl9DeCCUpoWRVFOJpPfOByOxwAuS/odORwOAIDX67XE4/HvZFnuDgaDH+n6yMhI3rhIJPJJLBZzrq6u2nWuvr4eR0dHpR+rrq6uG5zb7c7rnZycLImvoIIKCuE/afZzgWzKVLAAAAAASUVORK5CYII=" />
        <span class="sf-toolbar-status{% if collector.totals.calls > 0 %} sf-toolbar-status-green{% endif %}">{{ collector.totals.calls }}</span>
        {% if collector.totals.calls > 0 %}
            <span class="sf-toolbar-info-piece-additional-detail">in {{ '%0.2f'|format(collector.totals.time * 1000) }} ms</span>
        {% endif %}
    {% endset %}
    {% set text %}
        <div class="sf-toolbar-info-piece">
            <b>Memcache Calls</b>
            <span>{{ collector.totals.calls }}</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Total time</b>
            <span>{{ '%0.2f'|format(collector.totals.time * 1000) }} ms</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Cache hits</b>
            <span>{{ collector.totals.hits }}/{{ collector.totals.reads }} ({{ collector.totals.ratio }})</span>
        </div>
        <div class="sf-toolbar-info-piece">
            <b>Cache writes</b>
            <span>{{ collector.totals.writes }}</span>
        </div>
    {% endset %}
    {% include 'WebProfilerBundle:Profiler:toolbar_item.html.twig' with { 'link': profiler_url } %}
{% endblock %}

{% block menu %}
<span class="label">
    <span class="icon">
        <img width="32" height="33" alt="Memcache" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AscFBgMJw23ygAAA6NJREFUWMPtVk1II2cYfmecaGpMCGtzyIJ0C61C8SAEdstCFJRtCUWUIh6E0FUCliIEdQkpwoqiSQ9VKwRELFWw9LB4EDR6EEk0YE1nJqQibSSE5rAnf2IMmYSZ+Wa+veyEdBMSk8Jemuf4PM/H+8z7fj8DUEMN/3tIkgQWi6WoxrJsATcxMVHU63Q6qwvQ0tICAADLy8tNDMN8TtP0M5/P90jRJycnC9ZgjOHk5OQjmqafBYPBp2azWa1oGxsblYfAGANN08+j0Sgfi8Xw+fl5kGGYUaPRqFE8KysrOX8gEHh4dnbmjcViOBqNZsLh8Jrf73+i6ENDQ4AQuldtAgDg9PRUpVarXVqt9kVeKDGTyfh8Pp/Lbrcf5S9iGKajqanJq1KpHiqcIAjxbDb7m81mc4dCofR9P54EAKAoCgBA/lcyglBpNJovLBbLDsuyPwFAfd6+wRhjKd9fX1//SKfTOTc3N39fWFjoVvjDw8PyAUqhrq5Oq9fr7ZFIJOZ2uzuVdQRB1BW0kyBItVrd3t/ffxgKhdZ6e3s1PT09Od3j8RQfAcMwKoqi5rRaraNcoFQq9YsgCDt6vX6NoqgPS3kRQomrq6tvBUHwdnd3Z6rqwLvQ6XQjzc3Nr0iS1JTzUhT1wGg0vjIYDJuBQOCpwk9NTVUfQNkfJEl+cF9/Y2Pj1waDYSscDv8wODj4YH5+HoaHh6sbwX8BxlgWBCFycHBgtdvtoao7UC0IgiAbGho+6+rqsufG9D4DYIyxKIqvd3d35957AIRQIpvN/trR0fECAMSxsTHweDzVBZAk6Y4giAaSJNX38XMct5NMJhc7Ozv9AACrq6swOjpa3SlIp9OrqVRqUpblstetKIrx29vbka2trW+U4uPj47niFY1AEIS/r6+vv9vf3w/29fV9gjEWSvnv7u5+5Dhu2Ww2v1a4i4sLaGtrq+wiwhijRCIx5/V6H9/c3PhdLlcWAMh33wIFPM+fx+PxJ+vr606l+MzMDABAQfFcB2RZLhBkWRZ4nv9zb29vzOFw/FHqZ+TtJrtOp9M/m0ymlwAg5mvT09OlHyOr1YoQQv9IkpSSZTnL8/xfyWTyZXt7+2Ol+PHxMSwuLirjSCKEIrIs8wihG47jdra3t780mUzfA4BY0d/RwMAAAAA4HA4Ny7JfsSw74na7P1b02dnZouuOjo4+ZVn2OcuyvQrX2toKl5eXlR8rq9VawNlstqLepaWlivgaaqihHN4AH86uhQ3tfPYAAAAASUVORK5CYII=" />
    </span>
    <strong>Memcache</strong>
    <span class="count">
        <span>{{ collector.totals.calls }}</span>
        <span>{{ '%0.0f'|format(collector.totals.time * 1000) }} ms</span>
    </span>
</span>
{% endblock %}

{% block panel %}
    <h2>Memcache</h2>
    {% for name, calls in collector.calls %}
        <h3>Statistics for pool '{{ name }}'</h3>
        <table>
        <thead><tr>
        {% for key, value in collector.statistics[name] %}
        <th>{{ key|capitalize }}</th>
        {% endfor %}
        </tr></thead><tbody><tr>
        {% for key, value in collector.statistics[name] %}
            {% if key == 'time' %}
                <td>{{ '%0.2f'|format(value * 1000) }} ms</td>
            {% else %}
                <td>{{ value }}</td>
            {% endif %}
        {% endfor %}
        </tr></tbody></table>

        <h3>Calls for pool '{{ name }}'</h3>

        {% if not collector.totals.calls %}
            <p>
                <em>No calls.</em>
            </p>
        {% else %}
            <ul class="alt">
                {% for i, call in calls %}
                    <li class="{{ i is odd ? 'odd' : 'even' }}">
                        <div>
                            <strong>Name</strong>: {{ call.name }}<br />
                            <strong>Arguments</strong>: {{ call.arguments|json_encode() }}<br/>
                            <strong>Results</strong>: {{ call.result|json_encode() }}<br/>
                        </div>
                        <small>
                            <strong>Time</strong>: {{ '%0.2f'|format(call.time * 1000) }} ms
                        </small>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}

        <h3>Options for pool '{{ name }}'</h3>
        <pre>
            {%- for key, value in collector.options[name] %}
                {{- '%-25s'|format(key~':') }} {{ value }}{{ "\n" -}}
            {% endfor %}
        </pre>
    {% endfor %}

{% endblock %}
